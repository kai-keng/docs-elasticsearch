(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{354:function(t,a,s){"use strict";s.r(a);var r=s(42),e=Object(r.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"数据源接入"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#数据源接入"}},[t._v("#")]),t._v(" 数据源接入")]),t._v(" "),s("p",[t._v("ES 常见应用场景：日志搜索、业务数据搜索。")]),t._v(" "),s("p",[t._v("日志搜索的数据源接入，由于都是新增行为，不涉及更新和删除，处理相对简单，使用 filebeat 或者 logstash 都可以。一些第三方日志组件也具备接入 ES 的能力，另外像 k8s 这样的平台自身具备日志收集能力，傻瓜式接入即可。")]),t._v(" "),s("p",[t._v("业务数据的同步相对复杂，特别是应对删除操作。现有的方案包括：")]),t._v(" "),s("ol",[s("li",[t._v("logstash 定时轮询数据库表数据")])]),t._v(" "),s("p",[t._v("这个很好理解，JDBC 插件连接 DB，定时查询数据导到 ES 中，这里有些优化手段，根据记录更新时间，只同步上一次查询之后的数据。定时轮询简单粗暴，可以很好的处理新增及更新（），没法处理")]),t._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[s("p",[t._v("监听数据库操作行为日志 (CDC: Change Data Capture)")])]),t._v(" "),s("li",[s("p",[t._v("订阅业务事件")])])]),t._v(" "),s("p",[t._v("除了基本的数据同步外，实际在生产中不可避免的需要未知错误兜底方案，即特定或全量数据的强制同步问题。")]),t._v(" "),s("h2",{attrs:{id:"标准输入输入-stdio"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#标准输入输入-stdio"}},[t._v("#")]),t._v(" 标准输入输入(stdio)")]),t._v(" "),s("h2",{attrs:{id:"mongodb-数据源"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mongodb-数据源"}},[t._v("#")]),t._v(" MongoDB 数据源")]),t._v(" "),s("h2",{attrs:{id:"mysql-数据源"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mysql-数据源"}},[t._v("#")]),t._v(" MySQL 数据源")]),t._v(" "),s("h2",{attrs:{id:"参考"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[t._v("#")]),t._v(" 参考")]),t._v(" "),s("ol",[s("li",[s("a",{attrs:{href:"https://www.elastic.co/cn/blog/how-to-keep-elasticsearch-synchronized-with-a-relational-database-using-logstash",target:"_blank",rel:"noopener noreferrer"}},[t._v("如何使用 Logstash 和 JDBC 确保 Elasticsearch 与关系型数据库保持同步"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://www.jianshu.com/p/dfed43739f23",target:"_blank",rel:"noopener noreferrer"}},[t._v("DB与ES混合应用之数据实时同步"),s("OutboundLink")],1)])])])}),[],!1,null,null,null);a.default=e.exports}}]);